<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì´ìš©ì ë­í‚¹ë³´ê¸°&nbsp;&#124;&nbsp;ì½”ë”©í•´ì¡°</title>
<!-- Standard css -->
<link rel="icon" href="/img/logo/favicon.png">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
<!-- pub-js link -->
<script src="/js/pub-ui-custom.js"></script>
<script>
let currentIndex = 0;
const itemsPerPage = 10;

function showMoreRank() {
	const rankList = document.getElementById("rankList");
	const allItems = rankList.querySelectorAll(".content-rank-item-list");

	for (let i = currentIndex; i < currentIndex + itemsPerPage && i < allItems.length; i++) {
		allItems[i].classList.remove("hidden");
	}

	currentIndex += itemsPerPage;

	if (currentIndex >= allItems.length) {
		document.querySelector(".content-rank-item-pluse-view").style.display = "none";
	}
}

window.onload = function () {
	const rankList = document.getElementById("rankList");
	const allItems = rankList.querySelectorAll(".content-rank-item-list");

	allItems.forEach(item => item.classList.add("hidden"));

	showMoreRank();
};
</script>
</head>
<body>
	<!-- header ì˜ì—­ -->
	<div id="header" th:replace="/include/header"></div>
	<div class="banner-zone">
		<!-- ì²«ë²ˆì§¸ ì˜ì—­ : ë‚˜ì¤‘ì— ë³´ì-->
		<div class="banner-content">
			<div class="content-banner-title">
				<h3>ì½”ë”©í•´ì¡°ì™€ í•¨ê»˜í•˜ëŠ”<br>ì½”ë”© ë¬¸ì œ í’€ê¸°ğŸ˜</h3>
				<p>ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”</p>
				<p>ë‹¤ì–‘í•œ ë¬¸ì œë¥¼ í’€ê³  ë­í‚¹ ì˜¬ë¦¬ì</p>
			</div>
			<div class="content-banner-img" style="padding-top: 40px;">
				<img src="/img/trophy.png" alt="" style="position: relative; width: 245px;">
				<img src="/img/mask.png" alt="" style="position: relative; width: 100px; right: 110px; bottom: 160px;">
			</div>
		</div>
	</div>
	<div class="container">
		<div class="main-content">
			<div class="content-rank">

				<div class="content-rank-title">
					<div class="content-rank-title-header">
						<h3>ì´ìš©ì ë­í‚¹ ìˆœìœ„ ë³´ê¸°</h3>
						<ul class="rank_tab_group" id="rank_tab">
							<li><a href="/rank/rank" class="btn_tab_menu">ë ˆë²¨ì´ ë†’ì€ íšŒì›</a></li>
							<li><a href="/rank/rank?kind=Q" class="btn_tab_menu">ë§ì€ ë¬¸ì œê°€ ë†’ì€ íšŒì›</a></li>
						</ul>
					</div>
				</div>

				<div class="content-rank-main">
					<div class="content-rank-title"></div>
					<!-- í† ê¸€ ì»¨í…ì¸  -->
					<div class="content-rank-toggle-menu-item" id="tabMenu01" style="display: block;">
						<div class="content-rank-box">
							<div class="content-rank-box-list" th:each="member, stat : ${members}" th:if="${stat.index < 3}">
								<img th:src="${#strings.isEmpty(member.orgImg) ? '/img/test-profile/coolping.png' : '/member/img/' + member.email}" alt="" style="width: 40%;">
								<p>ë‹‰ë„¤ì„<b th:text="${member.nickname != null ? member.nickname : 'unknown'}">ìˆ˜ë¦¬í•‘</b></p>
								<p>ë ˆë²¨<b th:text="${member.grade}">LV999</b></p>
								<p>ë§ì€ ë¬¸ì œ<b th:text="${member.correctCount}">5ê°œ</b> | ì •ë‹µë¥  <b th:text="${#numbers.formatDecimal(member.correctRate,1,1)} + ' ' + '%' ">99%</b></p>
							</div>
						</div>
						
						<div class="content-rank-item-table">
							<div class="content-rank-item-title">
								<ul>
									<li class="rank-count">ìˆœìœ„</li>
									<li class="user">ë‹‰ë„¤ì„</li>
									<li class="level">ë ˆë²¨</li>
									<li class="problem-correctCount">ë§ì€ ë¬¸ì œ</li>
									<li class="problem-submitCount">ì œì¶œ ìˆ˜</li>
									<li class="porblem-rate">ì •ë‹µë¥ </li>
								</ul>
							</div>
							<div class="content-rank-item-body" id="rankList">
								<ul class="content-rank-item-list" th:each="member, stat : ${members}">
									<li class="rank-count" th:text="${stat.index + 1}">{count}</li>
									<li class="user" th:text="${member.nickname != null ? member.nickname : 'unknown'}">{member}</li>
									<li class="level" th:text="${member.grade}">{level}</li>
									<li class="problem-correctCount" th:text="${member.correctCount}">{problemCount}</li>
									<li class="problem-submitCount" th:text="${member.submitCount}">{problemCount}</li>
									<li class="porblem-rate" th:text="${#numbers.formatDecimal(member.correctRate,1,1)} + ' ' + '%' ">{problemCount}</li>
								</ul>
							</div>
							<div class="content-rank-item-pluse-view" id="loadMoreRank">
								<a href="javascript:void(0);" onclick="showMoreRank()">ë­í‚¹ ë”ë³´ê¸°</a>
							</div>
						</div>
						<!-- // content-rank-item-table -->
					</div>

					<div class="content-rank-toggle-menu-item" id="tabMenu02">
						<div class="content-rank-box">
							<div class="content-rank-box-list" th:each="member, stat : ${members}" th:if="${stat.index < 3}">
								<img th:src="${#strings.isEmpty(member.orgImg) ? '/img/test-profile/coolping.png' : '/member/img/' + member.email}" alt="" style="width: 40%;">
								<p>ë‹‰ë„¤ì„<b th:text="${member.nickname != null ? member.nickname : 'unknown'}">ìˆ˜ë¦¬í•‘</b></p>
								<p>ë ˆë²¨<b th:text="${member.grade}">LV999</b></p>
								<p>ë§ì€ ë¬¸ì œ<b th:text="${member.correctCount}">5ê°œ</b> | ì •ë‹µë¥  <b th:text="${#numbers.formatDecimal(member.correctRate,1,1)} + ' ' + '%' ">99%</b></p>
							</div>
						</div>
						
						<div class="content-rank-item-table">
							<div class="content-rank-item-title">
								<ul>
									<li class="rank-count">ìˆœìœ„</li>
									<li class="user">ë‹‰ë„¤ì„</li>
									<li class="level">ë ˆë²¨</li>
									<li class="problem-correctCount">ë§ì€ ë¬¸ì œ</li>
									<li class="problem-submitCount">ì œì¶œ ìˆ˜</li>
									<li class="porblem-rate">ì •ë‹µë¥ </li>									
								</ul>
							</div>
							<div class="content-rank-item-body" id="rankList" th:each="member, stat : ${members}" th:if="${stat.index < limit}">
								<ul class="content-rank-item-list">
									<li class="rank-count" th:text="${stat.index + 1}">{count}</li>
									<li class="user" th:text="${member.nickname != null ? member.nickname : 'unknown'}">{member}</li>
									<li class="level" th:text="${member.grade}">{level}</li>
									<li class="problem-correctCount" th:text="${member.correctCount}">{problemCount}</li>
																		<li class="problem-submitCount" th:text="${member.submitCount}">{problemCount}</li>
									<li class="porblem-rate" th:text="${#numbers.formatDecimal(member.correctRate,1,1)} + ' ' + '%' ">{problemCount}</li>
								</ul>
							</div>
							<div class="content-rank-item-pluse-view" id="loadMoreRank">
								<a href="javascript:void(0);" onclick="showMoreRank()">ë­í‚¹ ë”ë³´ê¸°</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- footerì˜ì—­ -->
	<div id="footer" th:replace="/include/footer"></div>
</body>
</html>